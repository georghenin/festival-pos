<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Firestore Orders Debug</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; padding:16px }
    pre { white-space:pre-wrap; word-break:break-word; background:#f6f8fa; padding:10px; border-radius:8px }
  </style>
</head>
<body>
  <h2>Firestore Orders Debug</h2>
  <p>This page lists the latest documents from <code>orders</code> in project <b>churchfestivalpos</b>.</p>
  <div id="status">Loadingâ€¦</div>
  <pre id="out"></pre>

  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>
  <script>
    firebase.initializeApp({
      apiKey: "AIzaSyBu-Ux4lvGn6-pnBngmJzL0BAtW1uIfOKM",
      authDomain: "churchfestivalpos.firebaseapp.com",
      projectId: "churchfestivalpos",
      storageBucket: "churchfestivalpos.firebasestorage.app",
      messagingSenderId: "447909610900",
      appId: "1:447909610900:web:a54a828bacfa02e7883b81"
    });
    const db = firebase.firestore();
    const out = document.getElementById('out');
    const status = document.getElementById('status');

    db.collection('orders')
      .orderBy('createdAt','desc')
      .limit(10)
      .get()
      .then(snap => {
        status.textContent = 'Found ' + snap.size + ' orders (showing latest 10).';
        const rows = [];
        snap.forEach(d => rows.push({ id: d.id, ...d.data() }));
        out.textContent = JSON.stringify(rows, null, 2);
      })
      .catch(err => {
        status.textContent = 'Error: ' + err.message;
      });
  </script>
</body>
</html>
