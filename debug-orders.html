<!DOCTYPE html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Firestore Orders Debug</title>
<style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;padding:16px}
pre{white-space:pre-wrap;word-break:break-word;background:#0f141e;color:#eaf0f6;padding:12px;border-radius:10px}</style>
</head><body>
<h2>Firestore Orders Debug</h2>
<p>Shows the latest 20 orders so we can verify <code>status</code>, <code>readyAt</code>, etc.</p>
<pre id="out">Loadingâ€¦</pre>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>
<script>
firebase.initializeApp({apiKey:"AIzaSyBu-Ux4lvGn6-pnBngmJzL0BAtW1uIfOKM",authDomain:"churchfestivalpos.firebaseapp.com",projectId:"churchfestivalpos",storageBucket:"churchfestivalpos.firebasestorage.app",messagingSenderId:"447909610900",appId:"1:447909610900:web:a54a828bacfa02e7883b81"});
const db=firebase.firestore(), out=document.getElementById('out');
db.collection('orders').orderBy('createdAt','desc').limit(20).get().then(s=>{
  const rows=[]; s.forEach(d=>{ const x=d.data();
    const fix=(v)=>v&&v.toMillis? v.toMillis(): v;
    rows.push({id:d.id, status:x.status, number:x.number, customer:x.customer,
               createdAt:fix(x.createdAt), readyAt:fix(x.readyAt), pickedUpAt:fix(x.pickedUpAt),
               items:x.items});
  }); out.textContent=JSON.stringify(rows,null,2);
}).catch(e=> out.textContent='Error: '+e.message);
</script></body></html>
